include ../text/text.pug
include ../dropdown-block/dropdown-block.pug

mixin count-picker(opts)
  div(
    class='count-picker'
    class='js-count-picker'
    data-type=opts.type
  )
    +dropdown-block({
      label: opts.label,
      inputText: opts.inputText,
      isContentAreExtension: true,
    })
    .count-picker__content
      ul.count-picker__list
        each item in opts.items
          li(
            class='count-picker__item'
            class='js-count-picker__item'
          )
            // FIXME: Replace extra class with container
            .count-picker__item-label
              +text({
                tag: 'h3',
                text: item.label,
                classes: ['js-count-picker__item-label'],
              })
            button(
              class='count-picker__button'
              class='js-count-picker__button_type_minus'
              type='button'
            )='-'
            .count-picker__item-value-container
              +text({
                tag: 'h3',
                text: item.count.toString(),
                classes: ['js-count-picker__item-value'],
              })
            button(
              class='count-picker__button'
              class='js-count-picker__button_type_plus'
              type='button'
            )='+'
      if opts.withControlButtons
        .count-picker__control-buttons
          button(
            class='count-picker__control-button'
            class='js-count-picker__clear-button'
            type='button'
          )= 'Очистить'
          button(
            class='count-picker__control-button'
            class='js-count-picker__apply-button'
            type='button'
          )= 'Применить'
