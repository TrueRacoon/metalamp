extends ../../layouts/website-pages/website-pages.pug
include ../../components/features/features.pug
include ../../components/pie-chart/pie-chart.pug
include ../../components/reviews/reviews.pug
include ../../components/bullet-list/bullet-list.pug
include ../../components/text/text.pug
include ../../components/booking-card/booking-card.pug

block variables
  -
    var title = 'Room details';
    var description = 'Room details Description';
    var keywords = 'Room details Keywords';
    var needTopBorder = true;
    var roomNumber = 888;

    var features = [
      {
        icon: 'insert-emoticon',
        title: 'Комфорт',
        description: 'Шумопоглощающие стены',
      },
      {
        icon: 'location-city',
        title: 'Удобство',
        description: 'Окно в каждой из спален',
      },
      {
        icon: 'whatshot',
        title: 'Уют',
        description: 'Номер оснащён камином',
      }
    ];

    var pieChartData = [
      { legend: 'Разочарован', value: 0 },
      { legend: 'Удовлетворительно', value: 65 },
      { legend: 'Хорошо', value: 65 },
      { legend: 'Великолепно', value: 130 },
    ];

    var bulletListData = [
      'Нельзя с питомцами',
      'Без вечеринок и мероприятий',
      'Время прибытия — после 13:00, а\xa0выезд до 12:00',
    ]

    var reviews = [
      {
        userId: 1,
        nLikes: 12,
        likePressed: true,
        username: 'Мурад Сарафанов',
        date: '5 дней назад',
        text: 'Великолепный матрас на кровати в основной спальне! А пуфик вообще потрясающий. И стены, действительно, шумоподавляющие. Выкрикивал комплименты повару — никто не жаловался из соседей.',
      },
      {
        userId: 2,
        nLikes: 2,
        likePressed: false,
        username: 'Патрисия Стёклышкова',
        date: 'Неделю назад',
        text: 'Обслуживание на высоте! Всё аккуратно, чисто. Завтраки в номер советую заказать, каждый день новое блюдо и десерт как комплимент',
      },
    ];

    var cancellationPolicy = 'Бесплатная отмена в течение 48 ч. После этого при отмене не позднее чем за 5 дн. до прибытия вы получите полный возврат за вычетом сбора за услуги.';

    var bookingCardData = {
      discount: 2179,
      initialArrivalDate: '19.08.2019',
      initialDepartureDate: '23.08.2019',
      price: 9990,
      roomNumber: roomNumber,
      roomSpecialType: 'Люкс',
    };

block content
  .room-details
    .room-details__gallery
      img.room-details__image(
        alt = 'Фотография номера'
        class = 'room-details__image_main'
        src = require(`../../img/rooms/room-${roomNumber}-1.jpg`)
      )
      img.room-details__image(
        src = require(`../../img/rooms/room-${roomNumber}-2.jpg`)
        alt = 'Фотография номера'
      )
      img.room-details__image(
        src = require(`../../img/rooms/room-${roomNumber}-3.jpg`)
        alt = 'Фотография номера'
      )
    .room-details__main-content
      .room-details__features-block
        +features({
          features,
          title: 'Сведения о номере'
        })
      .room-details__reviews-diagram-block
        +pie-chart({
          data: pieChartData,
          labelForms: ['голос', 'голоса', 'голосов'],
          title: 'Впечатления от номера',
        })
      .room-details__reviews-block
        +reviews({
          reviews,
          labelForms: ['отзыв', 'отзыва', 'отзывов'],
          title: 'Отзывы посетителей номера',
        })
      .room-details__rules-block
        +bullet-list({
          list: bulletListData,
          title: 'Правила',
        })
      .room-details__cancellation-policy-block
        +text({
          tag: 'h2',
          text: 'Отмена',
        })
        .room-details__cancellation-policy
          +text({
            tag: 'p',
            text: cancellationPolicy,
          })
      .room-details__booking-block
        +booking-card(bookingCardData)
